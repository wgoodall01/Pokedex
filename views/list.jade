include _cardEntries
extends base
include _queryControls

block head
    script(src="/r/js/list.js")
    script(src="/r/js/deleteCardButton.js")


block body
    .sticky.page-header
        h1 Card Listing
            .btn-group.btn-group-md.btn-group-header.pull-xs-right
                .btn.btn-secondary-outline#search-button: i.fa.fa-search
                .btn.btn-secondary-outline#sort-button: i.fa.fa-sort-alpha-asc

        form(method="GET"): fieldset
            .hide.pad-vertical.search-form: +_findForm(filterCard)
            .hide.pad-vertical.sort-form: +_sortForm(filter)

            button.btn.btn-action.pad-vertical.hide.go-button(type="submit")
    table.table.table-striped
        thead: tr
            th Name
            th Qty.
            th Type
            th Series
            th Expansion
            th Actions
        each c in cards
                tr
                    td: a(href="/view/" + c._id)=c.name
                    td=c.quantity
                    td=c.cardType
                    td=c.series
                    td=c.expansion
                    td: div
                        a.fa.fa-fw.fa-trash.delete-card.action-icon(href="", data-card-id=c._id)
                        a.fa.fa-fw.fa-edit.action-icon(href="/view/" + c._id)
